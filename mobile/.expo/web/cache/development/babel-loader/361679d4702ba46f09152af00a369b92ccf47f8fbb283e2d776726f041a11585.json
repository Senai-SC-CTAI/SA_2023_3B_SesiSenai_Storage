{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nvar MapperRegistry = function () {\n  function MapperRegistry(module) {\n    _classCallCheck(this, MapperRegistry);\n    this.sortedMappers = [];\n    this.mappers = new Map();\n    this.updatedSinceLastExecute = false;\n    this._module = module;\n  }\n  _createClass(MapperRegistry, [{\n    key: \"startMapper\",\n    value: function startMapper(mapper) {\n      this.mappers.set(mapper.id, mapper);\n      this.updatedSinceLastExecute = true;\n      return mapper.id;\n    }\n  }, {\n    key: \"stopMapper\",\n    value: function stopMapper(id) {\n      this.mappers.delete(id);\n      this.updatedSinceLastExecute = true;\n    }\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      if (this.updatedSinceLastExecute) {\n        this.updateOrder();\n        this.updatedSinceLastExecute = false;\n      }\n      for (var i = 0, len = this.sortedMappers.length; i < len; ++i) {\n        var mapper = this.sortedMappers[i];\n        if (mapper.dirty) {\n          mapper.execute();\n        }\n      }\n    }\n  }, {\n    key: \"updateOrder\",\n    value: function updateOrder() {\n      var nodes = _toConsumableArray(this.mappers.values()).map(function (mapper) {\n        return new Node(mapper);\n      });\n      var mappersById = {};\n      this.mappers.forEach(function (mapper) {\n        mappersById[mapper.id] = mapper;\n      });\n      for (var i = 0, nodesLen = nodes.length; i < nodesLen; ++i) {\n        var node = nodes[i];\n        if (node.mapper.outputs.length === 0) {\n          continue;\n        }\n        for (var j = 0; j < nodesLen; ++j) {\n          var restNode = nodes[j];\n          if (i === j || restNode.mapper.inputs.length === 0) {\n            continue;\n          }\n          for (var outi = 0, outputsLen = node.mapper.outputs.length; outi < outputsLen; ++outi) {\n            for (var resti = 0, restLen = restNode.mapper.inputs.length; resti < restLen; ++resti) {\n              if (node.mapper.outputs[outi]._id === restNode.mapper.inputs[resti]._id) {\n                node.children.push(restNode);\n              }\n            }\n          }\n        }\n      }\n      var post = {};\n      var postCounter = 1;\n      var dfs = function dfs(node) {\n        var index = nodes.indexOf(node);\n        if (index === -1) {\n          return;\n        }\n        ++postCounter;\n        nodes.splice(index, 1);\n        if (node.children.length === 0 && nodes.length > 0) {\n          post[node.mapper.id] = postCounter++;\n          dfs(nodes[0]);\n          return;\n        }\n        for (var _i = 0, len = node.children.length; _i < len; ++_i) {\n          dfs(node.children[_i]);\n        }\n        post[node.mapper.id] = postCounter++;\n      };\n      while (nodes.length) dfs(nodes[0]);\n      var postArray = Object.keys(post).map(function (key) {\n        var num = parseInt(key);\n        return [num, post[num]];\n      });\n      postArray.sort(function (a, b) {\n        return b[1] - a[1];\n      });\n      this.sortedMappers = [];\n      for (var _i2 = 0, len = postArray.length; _i2 < len; ++_i2) {\n        var _postArray$_i = _slicedToArray(postArray[_i2], 1),\n          id = _postArray$_i[0];\n        this.sortedMappers.push(mappersById[id]);\n      }\n    }\n  }, {\n    key: \"needRunOnRender\",\n    get: function get() {\n      return this.updatedSinceLastExecute;\n    }\n  }]);\n  return MapperRegistry;\n}();\nexport { MapperRegistry as default };\nvar Node = _createClass(function Node(mapper) {\n  var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  _classCallCheck(this, Node);\n  this.mapper = mapper;\n  this.children = children;\n});","map":{"version":3,"names":["MapperRegistry","module","_classCallCheck","sortedMappers","mappers","Map","updatedSinceLastExecute","_module","_createClass","key","value","startMapper","mapper","set","id","stopMapper","delete","execute","updateOrder","i","len","length","dirty","nodes","_toConsumableArray","values","map","Node","mappersById","forEach","nodesLen","node","outputs","j","restNode","inputs","outi","outputsLen","resti","restLen","_id","children","push","post","postCounter","dfs","index","indexOf","splice","postArray","Object","keys","num","parseInt","sort","a","b","_postArray$_i","_slicedToArray","get","default","arguments","undefined"],"sources":["C:/Users/pedro_hf_rocha/Documents/SA_2023_3B_SesiSenai_Storage/mobile/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/MapperRegistry.js"],"sourcesContent":["export default class MapperRegistry {\n    constructor(module) {\n        this.sortedMappers = [];\n        this.mappers = new Map();\n        this.updatedSinceLastExecute = false;\n        this._module = module;\n    }\n    startMapper(mapper) {\n        this.mappers.set(mapper.id, mapper);\n        this.updatedSinceLastExecute = true;\n        return mapper.id;\n    }\n    stopMapper(id) {\n        this.mappers.delete(id);\n        this.updatedSinceLastExecute = true;\n    }\n    execute() {\n        if (this.updatedSinceLastExecute) {\n            this.updateOrder();\n            this.updatedSinceLastExecute = false;\n        }\n        for (let i = 0, len = this.sortedMappers.length; i < len; ++i) {\n            const mapper = this.sortedMappers[i];\n            if (mapper.dirty) {\n                mapper.execute();\n            }\n        }\n    }\n    updateOrder() {\n        const nodes = [...this.mappers.values()].map((mapper) => new Node(mapper));\n        const mappersById = {};\n        this.mappers.forEach((mapper) => {\n            mappersById[mapper.id] = mapper;\n        });\n        // create a graph from array of nodes\n        for (let i = 0, nodesLen = nodes.length; i < nodesLen; ++i) {\n            const node = nodes[i];\n            if (node.mapper.outputs.length === 0) {\n                continue;\n            }\n            for (let j = 0; j < nodesLen; ++j) {\n                const restNode = nodes[j];\n                if (i === j || restNode.mapper.inputs.length === 0) {\n                    continue;\n                }\n                for (let outi = 0, outputsLen = node.mapper.outputs.length; outi < outputsLen; ++outi) {\n                    for (let resti = 0, restLen = restNode.mapper.inputs.length; resti < restLen; ++resti) {\n                        if (node.mapper.outputs[outi]._id ===\n                            restNode.mapper.inputs[resti]._id) {\n                            node.children.push(restNode);\n                        }\n                    }\n                }\n            }\n        }\n        const post = {};\n        let postCounter = 1;\n        const dfs = (node) => {\n            const index = nodes.indexOf(node);\n            if (index === -1) {\n                // this node has already been handled\n                return;\n            }\n            ++postCounter;\n            nodes.splice(index, 1);\n            if (node.children.length === 0 && nodes.length > 0) {\n                post[node.mapper.id] = postCounter++;\n                dfs(nodes[0]);\n                return;\n            }\n            for (let i = 0, len = node.children.length; i < len; ++i) {\n                dfs(node.children[i]);\n            }\n            post[node.mapper.id] = postCounter++;\n        };\n        while (nodes.length)\n            dfs(nodes[0]);\n        const postArray = Object.keys(post).map((key) => {\n            const num = parseInt(key);\n            return [num, post[num]];\n        });\n        postArray.sort((a, b) => {\n            return b[1] - a[1];\n        });\n        // clear sorted mappers\n        this.sortedMappers = [];\n        for (let i = 0, len = postArray.length; i < len; ++i) {\n            const [id] = postArray[i];\n            this.sortedMappers.push(mappersById[id]);\n        }\n    }\n    get needRunOnRender() {\n        return this.updatedSinceLastExecute;\n    }\n}\nclass Node {\n    constructor(mapper, children = []) {\n        this.mapper = mapper;\n        this.children = children;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
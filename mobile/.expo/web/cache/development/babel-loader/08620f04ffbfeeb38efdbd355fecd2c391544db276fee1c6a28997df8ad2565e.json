{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Environments() {\n  var navigation = useNavigation();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    query = _useState2[0],\n    setQuery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    results = _useState4[0],\n    setResults = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    noResults = _useState6[0],\n    setNoResults = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchError = _useState8[0],\n    setSearchError = _useState8[1];\n  var handleSearch = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield axios.get('http://localhost:8090/salas');\n        var data = response.data;\n        console.log('Resposta do servidor ao buscar ambientes:', data);\n        if (data.length === 0) {\n          setNoResults(true);\n          setSearchError('');\n        } else {\n          setResults(data);\n          setNoResults(false);\n          setSearchError('');\n        }\n      } catch (error) {\n        console.error('Erro ao buscar ambientes:', error);\n        setSearchError('Erro ao buscar ambientes.');\n      }\n    });\n    return function handleSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleButtonClick = function handleButtonClick() {\n    if (query.trim() !== '') {\n      handleSearch();\n    } else {\n      setSearchError('A consulta de pesquisa está vazia. Por favor, insira um termo de pesquisa.');\n      setNoResults(true);\n      setResults([]);\n    }\n  };\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(View, {\n      style: styles.card,\n      children: _jsx(Text, {\n        style: styles.props,\n        children: item.nome\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Listagem de Ambientes:\"\n    }), _jsx(View, {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsxs(View, {\n        style: styles.inputSearchHolder,\n        children: [_jsx(TextInput, {\n          placeholder: \"Pesquisar por Ambientes\",\n          style: {\n            width: '90%',\n            fontStyle: 'italic',\n            color: 'grey'\n          },\n          value: query,\n          onChangeText: function onChangeText(text) {\n            return setQuery(text);\n          }\n        }), _jsx(TouchableOpacity, {\n          onPress: handleButtonClick,\n          children: _jsx(Image, {\n            source: require(\"../../../assets/search.svg\"),\n            style: {\n              width: 25,\n              height: 25,\n              resizeMode: 'contain',\n              marginLeft: 53\n            }\n          })\n        })]\n      })\n    }), searchError !== '' && _jsx(Text, {\n      style: styles.error,\n      children: searchError\n    }), noResults ? _jsxs(Text, {\n      children: [\"Nenhum ambiente encontrado com o nome \\\"\", query, \"\\\".\"]\n    }) : _jsx(FlatList, {\n      data: results,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: function onPress() {\n        return navigation.navigate('Home');\n      },\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Voltar\"\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","TextInput","TouchableOpacity","Text","Image","FlatList","useNavigation","axios","styles","jsx","_jsx","jsxs","_jsxs","Environments","navigation","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","results","setResults","_useState5","_useState6","noResults","setNoResults","_useState7","_useState8","searchError","setSearchError","handleSearch","_ref","_asyncToGenerator","response","get","data","console","log","length","error","apply","arguments","handleButtonClick","trim","renderItem","_ref2","item","style","card","children","props","nome","container","title","display","alignItems","justifyContent","inputSearchHolder","placeholder","width","fontStyle","color","value","onChangeText","text","onPress","source","require","height","resizeMode","marginLeft","keyExtractor","id","toString","button","navigate","buttonText"],"sources":["C:/Users/Lucas Werpp Franco/Documents/Projetos-VScode/SA_2023_3B_SesiSenai_Storage/mobile/src/screens/ScreenEnvironments/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, TextInput, TouchableOpacity, Text, Image, FlatList } from 'react-native';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport axios from 'axios';\r\n\r\nimport styles from './styles';\r\n\r\nexport function Environments() {\r\n  const navigation = useNavigation();\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [noResults, setNoResults] = useState(false);\r\n  const [searchError, setSearchError] = useState('');\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8090/salas');\r\n      const data = response.data;\r\n\r\n      console.log('Resposta do servidor ao buscar ambientes:', data);\r\n\r\n      if (data.length === 0) {\r\n        setNoResults(true);\r\n        setSearchError('');\r\n      } else {\r\n        setResults(data);\r\n        setNoResults(false);\r\n        setSearchError('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao buscar ambientes:', error);\r\n      setSearchError('Erro ao buscar ambientes.');\r\n    }\r\n  };\r\n\r\n  const handleButtonClick = () => {\r\n    if (query.trim() !== '') {\r\n      handleSearch();\r\n    } else {\r\n      setSearchError('A consulta de pesquisa está vazia. Por favor, insira um termo de pesquisa.');\r\n      setNoResults(true);\r\n      setResults([]);\r\n    }\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View style={styles.card}>\r\n      <Text style={styles.props}>{item.nome}</Text>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Listagem de Ambientes:</Text>\r\n\r\n      {/* input search */}\r\n      <View style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n        <View style={styles.inputSearchHolder}>\r\n          <TextInput\r\n            placeholder=\"Pesquisar por Ambientes\"\r\n            style={{ width: '90%', fontStyle: 'italic', color: 'grey' }}\r\n            value={query}\r\n            onChangeText={(text) => setQuery(text)}\r\n          />\r\n          <TouchableOpacity onPress={handleButtonClick}>\r\n            <Image\r\n              source={require('../../../assets/search.svg')}\r\n              style={{\r\n                width: 25,\r\n                height: 25,\r\n                resizeMode: 'contain',\r\n                marginLeft: 53,\r\n              }}\r\n            />\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {searchError !== '' && <Text style={styles.error}>{searchError}</Text>}\r\n\r\n      {noResults ? (\r\n        <Text>Nenhum ambiente encontrado com o nome \"{query}\".</Text>\r\n      ) : (\r\n        <FlatList\r\n          data={results}\r\n          renderItem={renderItem}\r\n          keyExtractor={(item) => item.id.toString()}\r\n        />\r\n      )}\r\n\r\n      <TouchableOpacity style={styles.button} onPress={() => navigation.navigate('Home')}>\r\n        <Text style={styles.buttonText}>Voltar</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
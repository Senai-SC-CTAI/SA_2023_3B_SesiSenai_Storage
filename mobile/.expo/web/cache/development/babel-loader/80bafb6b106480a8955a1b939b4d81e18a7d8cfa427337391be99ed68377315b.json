{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Environments() {\n  var navigation = useNavigation();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    query = _useState2[0],\n    setQuery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    results = _useState4[0],\n    setResults = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    noResults = _useState6[0],\n    setNoResults = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchError = _useState8[0],\n    setSearchError = _useState8[1];\n  var axiosInstance = axios.create({\n    baseURL: 'http://localhost:8090',\n    headers: {\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  });\n  var handleSearch = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield axiosInstance.get('/salas');\n        var data = response.data;\n        console.log('Resposta do servidor ao buscar ambientes:', data);\n        if (data.length === 0) {\n          setNoResults(true);\n          setSearchError('');\n        } else {\n          setResults(data);\n          setNoResults(false);\n          setSearchError('');\n        }\n      } catch (error) {\n        console.error('Erro ao buscar ambientes:', error);\n        setSearchError('Erro ao buscar ambientes.');\n      }\n    });\n    return function handleSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleButtonClick = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        if (query.trim() !== '') {\n          var response = yield axiosInstance.get(`/salas?query=${query}`);\n          var data = response.data;\n          console.log('Resposta do servidor ao buscar ambientes por query:', data);\n          if (data.length === 0) {\n            setNoResults(true);\n            setSearchError('');\n          } else {\n            setResults(data);\n            setNoResults(false);\n            setSearchError('');\n          }\n        } else {\n          setSearchError('A consulta de pesquisa está vazia. Por favor, insira um termo de pesquisa.');\n          setNoResults(true);\n          setResults([]);\n        }\n      } catch (error) {\n        console.error('Erro ao buscar ambientes por query:', error);\n        setSearchError('Erro ao buscar ambientes por query.');\n      }\n    });\n    return function handleButtonClick() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleOpenScreen = function handleOpenScreen() {\n    navigation.navigate('Home');\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Listagem de Ambientes:\"\n    }), _jsx(View, {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsxs(View, {\n        style: styles.inputSearchHolder,\n        children: [_jsx(TextInput, {\n          placeholder: \"Pesquisar por Ambientes\",\n          value: query,\n          onChangeText: function onChangeText(text) {\n            return setQuery(text);\n          },\n          style: {\n            width: '90%',\n            fontStyle: 'italic',\n            color: 'grey'\n          }\n        }), _jsx(TouchableOpacity, {\n          style: {\n            width: 25,\n            height: 25,\n            resizeMode: 'contain',\n            marginLeft: 10\n          },\n          onPress: handleButtonClick,\n          children: _jsx(Image, {\n            source: require(\"../../../assets/search.svg\"),\n            style: {\n              width: '100%',\n              height: '100%'\n            }\n          })\n        })]\n      })\n    }), !!searchError && _jsx(Text, {\n      style: styles.errorMessage,\n      children: searchError\n    }), noResults ? _jsxs(Text, {\n      children: [\"Nenhum ambiente encontrado com o nome \\\"\", query, \"\\\".\"]\n    }) : _jsx(View, {\n      style: styles.searchResults,\n      children: results.map(function (result, index) {\n        return _jsx(Text, {\n          children: result.nome\n        }, index);\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: handleOpenScreen,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Voltar\"\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","TextInput","TouchableOpacity","Text","Image","useNavigation","axios","styles","jsx","_jsx","jsxs","_jsxs","Environments","navigation","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","results","setResults","_useState5","_useState6","noResults","setNoResults","_useState7","_useState8","searchError","setSearchError","axiosInstance","create","baseURL","headers","handleSearch","_ref","_asyncToGenerator","response","get","data","console","log","length","error","apply","arguments","handleButtonClick","_ref2","trim","handleOpenScreen","navigate","style","container","children","title","display","alignItems","justifyContent","inputSearchHolder","placeholder","value","onChangeText","text","width","fontStyle","color","height","resizeMode","marginLeft","onPress","source","require","errorMessage","searchResults","map","result","index","nome","button","buttonText"],"sources":["C:/Users/Lucas Werpp Franco/Documents/Projetos-VScode/SA_2023_3B_SesiSenai_Storage/mobile/src/screens/ScreenEnvironments/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, TextInput, TouchableOpacity, Text, Image } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport axios from 'axios';\r\n\r\nimport styles from './styles';\r\n\r\nexport function Environments() {\r\n  const navigation = useNavigation();\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [noResults, setNoResults] = useState(false);\r\n  const [searchError, setSearchError] = useState('');\r\n\r\n  const axiosInstance = axios.create({\r\n    baseURL: 'http://localhost:8090',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      // Adicione outros cabeçalhos conforme necessário\r\n    },\r\n  });\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await axiosInstance.get('/salas');\r\n      const data = response.data;\r\n\r\n      console.log('Resposta do servidor ao buscar ambientes:', data);\r\n\r\n      if (data.length === 0) {\r\n        setNoResults(true);\r\n        setSearchError('');\r\n      } else {\r\n        setResults(data);\r\n        setNoResults(false);\r\n        setSearchError('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao buscar ambientes:', error);\r\n      setSearchError('Erro ao buscar ambientes.');\r\n    }\r\n  };\r\n\r\n  const handleButtonClick = async () => {\r\n    try {\r\n      if (query.trim() !== '') {\r\n        const response = await axiosInstance.get(`/salas?query=${query}`);\r\n        const data = response.data;\r\n\r\n        console.log('Resposta do servidor ao buscar ambientes por query:', data);\r\n\r\n        if (data.length === 0) {\r\n          setNoResults(true);\r\n          setSearchError('');\r\n        } else {\r\n          setResults(data);\r\n          setNoResults(false);\r\n          setSearchError('');\r\n        }\r\n      } else {\r\n        setSearchError('A consulta de pesquisa está vazia. Por favor, insira um termo de pesquisa.');\r\n        setNoResults(true);\r\n        setResults([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao buscar ambientes por query:', error);\r\n      setSearchError('Erro ao buscar ambientes por query.');\r\n    }\r\n  };\r\n\r\n  const handleOpenScreen = () => {\r\n    navigation.navigate('Home');\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Listagem de Ambientes:</Text>\r\n\r\n      {/* Input search */}\r\n      <View style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n        <View style={styles.inputSearchHolder}>\r\n          <TextInput\r\n            placeholder=\"Pesquisar por Ambientes\"\r\n            value={query}\r\n            onChangeText={(text) => setQuery(text)}\r\n            style={{ width: '90%', fontStyle: 'italic', color: 'grey' }}\r\n          />\r\n          <TouchableOpacity\r\n            style={{ width: 25, height: 25, resizeMode: 'contain', marginLeft: 10 }}\r\n            onPress={handleButtonClick}\r\n          >\r\n            <Image source={require('../../../assets/search.svg')} style={{ width: '100%', height: '100%' }} />\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {!!searchError && <Text style={styles.errorMessage}>{searchError}</Text>}\r\n\r\n      {noResults ? (\r\n        <Text>Nenhum ambiente encontrado com o nome \"{query}\".</Text>\r\n      ) : (\r\n        <View style={styles.searchResults}>\r\n          {results.map((result, index) => (\r\n            <Text key={index}>{result.nome}</Text>\r\n          ))}\r\n        </View>\r\n      )}\r\n\r\n      <TouchableOpacity style={styles.button} onPress={handleOpenScreen}>\r\n        <Text style={styles.buttonText}>Voltar</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}